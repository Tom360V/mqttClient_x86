cmake_minimum_required(VERSION 2.8)

project(mqttClient_x86)

enable_testing()

set(externals
  externals/mqtt_c
  externals/ServiceDispatcher
  externals/ServiceRGB)


#Add related projects
foreach(ext ${externals})
    message("*** " ${ext} )
    add_subdirectory(${ext})
endforeach(ext)

#Add include directories
include_directories(./)
include_directories(client/inc)

foreach(ext ${externals})
    include_directories(${ext}/inc)
endforeach(ext)


#Add sources
set(srcs main.c
         x86.c
    )


#Add EXEcutable
add_executable(mqttClient_x86 ${srcs})
target_link_libraries(mqttClient_x86 mqtt_c ServiceDispatcher )

#add_test(TEST_mqttClient_x86 test/test_ServiceDispatcherRouter)
